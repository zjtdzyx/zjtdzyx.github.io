
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as x,r as V,D as M,z as $,E as c,o as N,k as F,e as a,w as o,b as i,f as l,G as m,H as A,h as _,I as s,J as f,g as p,K as z,L as v,M as C,m as J,x as k}from"./index-B_i3AGOe.js";const L={class:"container"},O={class:"search-container"},T={class:"table-container"},j={key:0,class:"edit-container"},G=x({__name:"FarmerInfo",setup(q){const t=V([]),w=[{farmerNumber:"001",name:"张三",address:"北京市",contact:"123456789",sowingArea:"100亩"},{farmerNumber:"002",name:"李四",address:"上海市",contact:"987654321",sowingArea:"200亩"},{farmerNumber:"003",name:"王五",address:"广州市",contact:"456123789",sowingArea:"150亩"},{farmerNumber:"004",name:"赵六",address:"深圳市",contact:"321654987",sowingArea:"120亩"},{farmerNumber:"005",name:"孙七",address:"杭州市",contact:"789123456",sowingArea:"180亩"},{farmerNumber:"006",name:"周八",address:"成都市",contact:"654789123",sowingArea:"160亩"},{farmerNumber:"007",name:"吴九",address:"南京市",contact:"123789456",sowingArea:"140亩"},{farmerNumber:"008",name:"郑十",address:"苏州市",contact:"987321654",sowingArea:"130亩"},{farmerNumber:"009",name:"王十一",address:"武汉市",contact:"456987123",sowingArea:"170亩"},{farmerNumber:"010",name:"李十二",address:"长沙市",contact:"321987654",sowingArea:"110亩"}];function U(){const d=localStorage.getItem("farmerInfo");d?t.value=JSON.parse(d):t.value=w}function b(){localStorage.setItem("farmerInfo",JSON.stringify(t.value))}function E(){t.value=[...w],b(),c.success("数据已恢复为默认值")}const g=V(""),S=M(()=>{const d=g.value.trim().toLowerCase();return d?t.value.filter(e=>Object.values(e).some(r=>String(r).toLowerCase().includes(d))):t.value}),n=V({farmerNumber:"",name:"",address:"",contact:"",sowingArea:""}),u=V(null);$(()=>{U(),c.success("Farmer info loaded successfully")});function I(){t.value.push({...n.value}),n.value={farmerNumber:"",name:"",address:"",contact:"",sowingArea:""},b(),c.success("Farmer added successfully")}function H(d){u.value={...d}}function y(){const d=t.value.findIndex(e=>{var r;return e.farmerNumber===((r=u.value)==null?void 0:r.farmerNumber)});d!==-1&&u.value&&(t.value[d]={...u.value},u.value=null,b(),c.success("Farmer updated successfully"))}function B(d){t.value=t.value.filter(e=>e.farmerNumber!==d),b(),c.success("Farmer removed successfully")}return(d,e)=>(N(),F("div",L,[a(l(C),{class:"box-card"},{default:o(()=>[e[16]||(e[16]=i("div",{class:"card-header"},[i("h1",null,"农民信息管理")],-1)),i("div",O,[a(l(m),{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=r=>g.value=r),placeholder:"输入关键词搜索农民信息...",clearable:""},null,8,["modelValue"])]),a(l(A),{"label-width":"120px",onSubmit:_(I,["prevent"])},{default:o(()=>[a(l(s),{label:"农民编号"},{default:o(()=>[a(l(m),{modelValue:n.value.farmerNumber,"onUpdate:modelValue":e[1]||(e[1]=r=>n.value.farmerNumber=r),placeholder:"农民编号",required:""},null,8,["modelValue"])]),_:1}),a(l(s),{label:"名称"},{default:o(()=>[a(l(m),{modelValue:n.value.name,"onUpdate:modelValue":e[2]||(e[2]=r=>n.value.name=r),placeholder:"名称",required:""},null,8,["modelValue"])]),_:1}),a(l(s),{label:"地址"},{default:o(()=>[a(l(m),{modelValue:n.value.address,"onUpdate:modelValue":e[3]||(e[3]=r=>n.value.address=r),placeholder:"地址",required:""},null,8,["modelValue"])]),_:1}),a(l(s),{label:"联系人"},{default:o(()=>[a(l(m),{modelValue:n.value.contact,"onUpdate:modelValue":e[4]||(e[4]=r=>n.value.contact=r),placeholder:"联系人",required:""},null,8,["modelValue"])]),_:1}),a(l(s),{label:"播种面积"},{default:o(()=>[a(l(m),{modelValue:n.value.sowingArea,"onUpdate:modelValue":e[5]||(e[5]=r=>n.value.sowingArea=r),placeholder:"播种面积",required:""},null,8,["modelValue"])]),_:1}),a(l(s),{class:"form-actions"},{default:o(()=>[a(l(f),{type:"primary",onClick:I},{default:o(()=>e[12]||(e[12]=[p(" 添加农民 ")])),_:1})]),_:1})]),_:1}),i("div",T,[a(l(z),{data:S.value,style:{width:"auto",margin:"0 auto"},height:"400",border:""},{default:o(()=>[a(l(v),{prop:"farmerNumber",label:"农民编号",width:"150"}),a(l(v),{prop:"name",label:"名称",width:"150"}),a(l(v),{prop:"address",label:"地址",width:"150"}),a(l(v),{prop:"contact",label:"联系人",width:"150"}),a(l(v),{prop:"sowingArea",label:"播种面积",width:"150"}),a(l(v),{label:"操作",width:"150"},{default:o(r=>[a(l(f),{type:"primary",size:"small",onClick:D=>H(r.row)},{default:o(()=>e[13]||(e[13]=[p(" 编辑 ")])),_:2},1032,["onClick"]),a(l(f),{type:"danger",size:"small",onClick:D=>B(r.row.farmerNumber)},{default:o(()=>e[14]||(e[14]=[p(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),a(l(f),{type:"warning",onClick:E},{default:o(()=>e[15]||(e[15]=[p("还原数据")])),_:1})]),_:1}),u.value?(N(),F("div",j,[a(l(C),{class:"box-card"},{default:o(()=>[e[19]||(e[19]=i("div",{class:"card-header"},[i("h2",null,"编辑农民")],-1)),a(l(A),{"label-width":"120px",onSubmit:_(y,["prevent"])},{default:o(()=>[a(l(s),{label:"农民编号"},{default:o(()=>[a(l(m),{modelValue:u.value.farmerNumber,"onUpdate:modelValue":e[6]||(e[6]=r=>u.value.farmerNumber=r),placeholder:"农民编号",required:""},null,8,["modelValue"])]),_:1}),a(l(s),{label:"名称"},{default:o(()=>[a(l(m),{modelValue:u.value.name,"onUpdate:modelValue":e[7]||(e[7]=r=>u.value.name=r),placeholder:"名称",required:""},null,8,["modelValue"])]),_:1}),a(l(s),{label:"地址"},{default:o(()=>[a(l(m),{modelValue:u.value.address,"onUpdate:modelValue":e[8]||(e[8]=r=>u.value.address=r),placeholder:"地址",required:""},null,8,["modelValue"])]),_:1}),a(l(s),{label:"联系人"},{default:o(()=>[a(l(m),{modelValue:u.value.contact,"onUpdate:modelValue":e[9]||(e[9]=r=>u.value.contact=r),placeholder:"联系人",required:""},null,8,["modelValue"])]),_:1}),a(l(s),{label:"播种面积"},{default:o(()=>[a(l(m),{modelValue:u.value.sowingArea,"onUpdate:modelValue":e[10]||(e[10]=r=>u.value.sowingArea=r),placeholder:"播种面积",required:""},null,8,["modelValue"])]),_:1}),a(l(s),{class:"form-actions"},{default:o(()=>[a(l(f),{type:"primary",onClick:y},{default:o(()=>e[17]||(e[17]=[p(" 更新农民 ")])),_:1}),a(l(f),{onClick:e[11]||(e[11]=r=>u.value=null)},{default:o(()=>e[18]||(e[18]=[p(" 取消 ")])),_:1})]),_:1})]),_:1})]),_:1})])):J("",!0)]))}}),K=k(G,[["__scopeId","data-v-c41ade92"]]),Q=x({name:"FarmerInfoView",__name:"farmer_info",setup(q){return(t,w)=>(N(),F("div",null,[a(K)]))}}),R=k(Q,[["__scopeId","data-v-eb27bea9"]]);export{R as default};
