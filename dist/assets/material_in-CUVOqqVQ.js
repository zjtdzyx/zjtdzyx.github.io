
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as g,P as x,r as s,z as U,Q as N,a as i,o as P,k,e,w as o,g as q}from"./index-B_i3AGOe.js";const T=g({__name:"material_in",setup(C){const p=x.create({baseURL:"/",timeout:6e4,responseType:"json"}),b=s([]),f=s(!1),d=s(null);async function _(){f.value=!0,d.value=null;try{const n=await p.get("/materials");b.value=n.data}catch(n){d.value=n.message||"获取数据失败"}finally{f.value=!1}}U(()=>{_()});const l=N({materialNumber:"",name:"",unit:"",costPrice:0,selling_price:0,quantity:0}),c=s(null);async function V(){try{const n=await p.post("/materials",l);c.value=n.data,_()}catch(n){d.value=n.message||"提交数据失败"}}return(n,t)=>{const r=i("el-table-column"),y=i("el-table"),m=i("el-input"),u=i("el-form-item"),w=i("el-button"),v=i("el-form");return P(),k("div",null,[e(y,{data:b.value,height:"250",style:{width:"100%"}},{default:o(()=>[e(r,{prop:"materialNumber",label:"物资编号",width:"180"}),e(r,{prop:"name",label:"物资名称",width:"180"}),e(r,{prop:"unit",label:"单位",width:"180"}),e(r,{prop:"costPrice",label:"单价",width:"180"}),e(r,{prop:"selling_price",label:"售价",width:"180"}),e(r,{prop:"quantity",label:"数量",width:"180"})]),_:1},8,["data"]),e(v,{model:l,"label-width":"100px",style:{"max-width":"600px"}},{default:o(()=>[e(u,{label:"物资编号"},{default:o(()=>[e(m,{modelValue:l.materialNumber,"onUpdate:modelValue":t[0]||(t[0]=a=>l.materialNumber=a)},null,8,["modelValue"])]),_:1}),e(u,{label:"物资名称"},{default:o(()=>[e(m,{modelValue:l.name,"onUpdate:modelValue":t[1]||(t[1]=a=>l.name=a)},null,8,["modelValue"])]),_:1}),e(u,{label:"单位"},{default:o(()=>[e(m,{modelValue:l.unit,"onUpdate:modelValue":t[2]||(t[2]=a=>l.unit=a)},null,8,["modelValue"])]),_:1}),e(u,{label:"单价"},{default:o(()=>[e(m,{modelValue:l.costPrice,"onUpdate:modelValue":t[3]||(t[3]=a=>l.costPrice=a),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),e(u,{label:"售价"},{default:o(()=>[e(m,{modelValue:l.selling_price,"onUpdate:modelValue":t[4]||(t[4]=a=>l.selling_price=a),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),e(u,{label:"数量"},{default:o(()=>[e(m,{modelValue:l.quantity,"onUpdate:modelValue":t[5]||(t[5]=a=>l.quantity=a),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),e(u,null,{default:o(()=>[e(w,{type:"primary",onClick:V},{default:o(()=>t[6]||(t[6]=[q(" 提交 ")])),_:1})]),_:1})]),_:1},8,["model"])])}}});export{T as default};
