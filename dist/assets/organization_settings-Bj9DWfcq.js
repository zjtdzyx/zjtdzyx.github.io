
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as k,r as v,D as L,z as M,E as g,o as b,k as V,e as a,w as l,b as s,f as t,G as f,H as C,h as I,I as d,J as m,g as p,K as $,L as N,M as x,m as D,x as S}from"./index-B_i3AGOe.js";const J={class:"container"},T={class:"search-container"},h={class:"table-container"},F={class:"restore-container"},j={key:0,class:"edit-container"},G=k({__name:"OriganizationSettings",setup(E){const z=[{organizationName:"公司",type:"类型A"},{organizationName:"批发中心",type:"类型A"},{organizationName:"代购点",type:"类型B"},{organizationName:"公司",type:"类型A"},{organizationName:"批发中心",type:"类型A"},{organizationName:"代购点",type:"类型C"}],y=localStorage.getItem("organizationInfo"),r=v(y?JSON.parse(y):[...z]),_=v(""),H=L(()=>{const i=_.value.trim().toLowerCase();return i?r.value.filter(e=>Object.values(e).some(n=>String(n).toLowerCase().includes(i))):r.value}),u=v({organizationName:"",type:""}),o=v(null);M(()=>{g.success("Organization info loaded successfully")});function c(){localStorage.setItem("organizationInfo",JSON.stringify(r.value))}function O(){r.value.push({...u.value}),c(),u.value={organizationName:"",type:""},g.success("Organization added successfully")}function q(i){o.value={...i}}function w(){const i=r.value.findIndex(e=>{var n;return e.organizationName===((n=o.value)==null?void 0:n.organizationName)});i!==-1&&o.value&&(r.value[i]={...o.value},c(),o.value=null,g.success("Organization updated successfully"))}function B(i){r.value=r.value.filter(e=>e.organizationName!==i),c(),g.success("Organization removed successfully")}function U(){r.value=[...z],c(),g.success("Data restored to initial state")}return(i,e)=>(b(),V("div",J,[a(t(x),{class:"box-card"},{default:l(()=>[e[10]||(e[10]=s("div",{class:"card-header"},[s("h1",null,"组织信息管理")],-1)),s("div",T,[a(t(f),{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=n=>_.value=n),placeholder:"输入关键词搜索组织...",clearable:""},null,8,["modelValue"])]),a(t(C),{"label-width":"120px",onSubmit:I(O,["prevent"])},{default:l(()=>[a(t(d),{label:"组织名称"},{default:l(()=>[a(t(f),{modelValue:u.value.organizationName,"onUpdate:modelValue":e[1]||(e[1]=n=>u.value.organizationName=n),placeholder:"组织名称",required:""},null,8,["modelValue"])]),_:1}),a(t(d),{label:"类型"},{default:l(()=>[a(t(f),{modelValue:u.value.type,"onUpdate:modelValue":e[2]||(e[2]=n=>u.value.type=n),placeholder:"类型",required:""},null,8,["modelValue"])]),_:1}),a(t(d),{class:"form-actions"},{default:l(()=>[a(t(m),{type:"primary",onClick:O},{default:l(()=>e[6]||(e[6]=[p(" 添加组织 ")])),_:1})]),_:1})]),_:1}),s("div",h,[a(t($),{data:H.value,style:{width:"auto",margin:"0 auto"},height:"400",border:""},{default:l(()=>[a(t(N),{prop:"organizationName",label:"组织名称",width:"150"}),a(t(N),{prop:"type",label:"类型",width:"150"}),a(t(N),{label:"操作",width:"150"},{default:l(n=>[a(t(m),{type:"primary",size:"small",onClick:A=>q(n.row)},{default:l(()=>e[7]||(e[7]=[p(" 编辑 ")])),_:2},1032,["onClick"]),a(t(m),{type:"danger",size:"small",onClick:A=>B(n.row.organizationName)},{default:l(()=>e[8]||(e[8]=[p(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),s("div",F,[a(t(m),{type:"warning",onClick:U},{default:l(()=>e[9]||(e[9]=[p(" 还原数据 ")])),_:1})])]),_:1}),o.value?(b(),V("div",j,[a(t(x),{class:"box-card"},{default:l(()=>[e[13]||(e[13]=s("div",{class:"card-header"},[s("h2",null,"编辑组织")],-1)),a(t(C),{"label-width":"120px",onSubmit:I(w,["prevent"])},{default:l(()=>[a(t(d),{label:"组织名称"},{default:l(()=>[a(t(f),{modelValue:o.value.organizationName,"onUpdate:modelValue":e[3]||(e[3]=n=>o.value.organizationName=n),placeholder:"组织名称",required:""},null,8,["modelValue"])]),_:1}),a(t(d),{label:"类型"},{default:l(()=>[a(t(f),{modelValue:o.value.type,"onUpdate:modelValue":e[4]||(e[4]=n=>o.value.type=n),placeholder:"类型",required:""},null,8,["modelValue"])]),_:1}),a(t(d),{class:"form-actions"},{default:l(()=>[a(t(m),{type:"primary",onClick:w},{default:l(()=>e[11]||(e[11]=[p(" 更新组织 ")])),_:1}),a(t(m),{onClick:e[5]||(e[5]=n=>o.value=null)},{default:l(()=>e[12]||(e[12]=[p(" 取消 ")])),_:1})]),_:1})]),_:1})]),_:1})])):D("",!0)]))}}),K=S(G,[["__scopeId","data-v-794f1acd"]]),Q=k({name:"OriganizationSettingsView",__name:"organization_settings",setup(E){return(z,y)=>(b(),V("div",null,[a(K)]))}}),R=S(Q,[["__scopeId","data-v-96c7700c"]]);export{R as default};
