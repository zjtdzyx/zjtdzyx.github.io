
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as x,P as k,r as m,Q as N,z as U,a as s,o as B,k as P,e,w as o,g as T,F as C,R as c,x as h}from"./index-COvaATLK.js";const F=x({__name:"product_in",setup(K){const f=k.create({baseURL:"/",timeout:6e4,responseType:"json"}),_=m([]),l=N({productNumber:"",name:"",grade:"",origin:"",costPrice:"",packaging:""}),p=m(!1),i=m(null),g=m(null);async function b(){p.value=!0,i.value=null;try{const n=await f.get("/products");_.value=n.data}catch(n){i.value=n.message||"Failed to fetch data"}finally{p.value=!1}}U(()=>{b()});async function V(){if(!l.productNumber||!l.name||!l.grade||!l.origin||!l.costPrice||!l.packaging){c.alert("所有字段都是必填项，请检查输入！","错误",{confirmButtonText:"OK",type:"error"});return}try{p.value=!0;const n=await f.post("/products",l);g.value=n.data,c.alert("产品信息已成功提交！","成功",{confirmButtonText:"OK",type:"success"}),b()}catch(n){i.value=n.message||"提交失败，请稍后再试！",c.alert("错误",{confirmButtonText:"OK",type:"error"})}finally{p.value=!1}}return(n,t)=>{const u=s("el-table-column"),y=s("el-table"),d=s("el-input"),r=s("el-form-item"),v=s("el-button"),w=s("el-form");return B(),P(C,null,[e(y,{data:_.value,height:"250",style:{width:"100%"}},{default:o(()=>[e(u,{prop:"productNumber",label:"产品编号",width:"180"}),e(u,{prop:"name",label:"产品名称",width:"180"}),e(u,{prop:"grade",label:"产品等级",width:"180"}),e(u,{prop:"origin",label:"产地",width:"180"}),e(u,{prop:"costPrice",label:"进价",width:"180"}),e(u,{prop:"packaging",label:"包装物",width:"180"})]),_:1},8,["data"]),e(w,{model:l,"label-width":"100",style:{"max-width":"600px"}},{default:o(()=>[e(r,{label:"产品编号"},{default:o(()=>[e(d,{modelValue:l.productNumber,"onUpdate:modelValue":t[0]||(t[0]=a=>l.productNumber=a)},null,8,["modelValue"])]),_:1}),e(r,{label:"产品名称"},{default:o(()=>[e(d,{modelValue:l.name,"onUpdate:modelValue":t[1]||(t[1]=a=>l.name=a)},null,8,["modelValue"])]),_:1}),e(r,{label:"产品等级"},{default:o(()=>[e(d,{modelValue:l.grade,"onUpdate:modelValue":t[2]||(t[2]=a=>l.grade=a)},null,8,["modelValue"])]),_:1}),e(r,{label:"产地"},{default:o(()=>[e(d,{modelValue:l.origin,"onUpdate:modelValue":t[3]||(t[3]=a=>l.origin=a)},null,8,["modelValue"])]),_:1}),e(r,{label:"进价"},{default:o(()=>[e(d,{modelValue:l.costPrice,"onUpdate:modelValue":t[4]||(t[4]=a=>l.costPrice=a)},null,8,["modelValue"])]),_:1}),e(r,{label:"包装物"},{default:o(()=>[e(d,{modelValue:l.packaging,"onUpdate:modelValue":t[5]||(t[5]=a=>l.packaging=a)},null,8,["modelValue"])]),_:1}),e(r,null,{default:o(()=>[e(v,{type:"primary",onClick:V},{default:o(()=>t[6]||(t[6]=[T(" 提交 ")])),_:1})]),_:1})]),_:1},8,["model"])],64)}}}),D=h(F,[["__scopeId","data-v-58b847d6"]]);export{D as default};
