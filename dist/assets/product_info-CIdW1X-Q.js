
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as x,r as b,D as M,z as $,E as f,o as N,k as w,e as l,w as u,b as c,f as a,G as n,H as _,h as C,I as t,J as m,g,K as z,L as p,M as q,m as D,x as U}from"./index-COvaATLK.js";const J={class:"container"},O={class:"search-container"},T={class:"table-container"},F={class:"restore-container"},j={key:0,class:"edit-container"},G=x({__name:"ProductInfo",setup(E){const V=[{productNumber:"P001",name:"苹果",grade:"A",origin:"山东",costPrice:"5元/斤",packaging:"纸箱"},{productNumber:"P002",name:"香蕉",grade:"B",origin:"海南",costPrice:"3元/斤",packaging:"塑料袋"},{productNumber:"P003",name:"橙子",grade:"A",origin:"江西",costPrice:"4元/斤",packaging:"纸箱"},{productNumber:"P004",name:"葡萄",grade:"A",origin:"新疆",costPrice:"6元/斤",packaging:"纸箱"},{productNumber:"P005",name:"西瓜",grade:"B",origin:"河南",costPrice:"2元/斤",packaging:"塑料袋"},{productNumber:"P006",name:"草莓",grade:"A",origin:"江苏",costPrice:"10元/斤",packaging:"纸箱"},{productNumber:"P007",name:"梨",grade:"B",origin:"河北",costPrice:"3元/斤",packaging:"塑料袋"},{productNumber:"P008",name:"桃子",grade:"A",origin:"陕西",costPrice:"5元/斤",packaging:"纸箱"}],P=localStorage.getItem("productInfo"),s=b(P?JSON.parse(P):[...V]),k=b(""),S=M(()=>{const i=k.value.trim().toLowerCase();return i?s.value.filter(e=>Object.values(e).some(o=>String(o).toLowerCase().includes(i))):s.value}),d=b({productNumber:"",name:"",grade:"",origin:"",costPrice:"",packaging:""}),r=b(null);$(()=>{f.success("Product info loaded successfully")});function v(){localStorage.setItem("productInfo",JSON.stringify(s.value))}function y(){s.value.push({...d.value}),v(),d.value={productNumber:"",name:"",grade:"",origin:"",costPrice:"",packaging:""},f.success("Product added successfully")}function B(i){r.value={...i}}function I(){const i=s.value.findIndex(e=>{var o;return e.productNumber===((o=r.value)==null?void 0:o.productNumber)});i!==-1&&r.value&&(s.value[i]={...r.value},v(),r.value=null,f.success("Product updated successfully"))}function H(i){s.value=s.value.filter(e=>e.productNumber!==i),v(),f.success("Product removed successfully")}function A(){s.value=[...V],v(),f.success("Data restored to initial state")}return(i,e)=>(N(),w("div",J,[l(a(q),{class:"box-card"},{default:u(()=>[e[18]||(e[18]=c("div",{class:"card-header"},[c("h1",null,"产品信息管理")],-1)),c("div",O,[l(a(n),{modelValue:k.value,"onUpdate:modelValue":e[0]||(e[0]=o=>k.value=o),placeholder:"输入关键词搜索产品...",clearable:""},null,8,["modelValue"])]),l(a(_),{"label-width":"120px",onSubmit:C(y,["prevent"])},{default:u(()=>[l(a(t),{label:"产品编号"},{default:u(()=>[l(a(n),{modelValue:d.value.productNumber,"onUpdate:modelValue":e[1]||(e[1]=o=>d.value.productNumber=o),placeholder:"产品编号",required:""},null,8,["modelValue"])]),_:1}),l(a(t),{label:"名称"},{default:u(()=>[l(a(n),{modelValue:d.value.name,"onUpdate:modelValue":e[2]||(e[2]=o=>d.value.name=o),placeholder:"名称",required:""},null,8,["modelValue"])]),_:1}),l(a(t),{label:"等级"},{default:u(()=>[l(a(n),{modelValue:d.value.grade,"onUpdate:modelValue":e[3]||(e[3]=o=>d.value.grade=o),placeholder:"等级",required:""},null,8,["modelValue"])]),_:1}),l(a(t),{label:"产地"},{default:u(()=>[l(a(n),{modelValue:d.value.origin,"onUpdate:modelValue":e[4]||(e[4]=o=>d.value.origin=o),placeholder:"产地",required:""},null,8,["modelValue"])]),_:1}),l(a(t),{label:"成本价"},{default:u(()=>[l(a(n),{modelValue:d.value.costPrice,"onUpdate:modelValue":e[5]||(e[5]=o=>d.value.costPrice=o),placeholder:"成本价",required:""},null,8,["modelValue"])]),_:1}),l(a(t),{label:"包装"},{default:u(()=>[l(a(n),{modelValue:d.value.packaging,"onUpdate:modelValue":e[6]||(e[6]=o=>d.value.packaging=o),placeholder:"包装",required:""},null,8,["modelValue"])]),_:1}),l(a(t),{class:"form-actions"},{default:u(()=>[l(a(m),{type:"primary",onClick:y},{default:u(()=>e[14]||(e[14]=[g(" 添加产品 ")])),_:1})]),_:1})]),_:1}),c("div",T,[l(a(z),{data:S.value,style:{width:"auto",margin:"0 auto"},height:"400",border:""},{default:u(()=>[l(a(p),{prop:"productNumber",label:"产品编号",width:"150"}),l(a(p),{prop:"name",label:"名称",width:"150"}),l(a(p),{prop:"grade",label:"等级",width:"150"}),l(a(p),{prop:"origin",label:"产地",width:"150"}),l(a(p),{prop:"costPrice",label:"成本价",width:"150"}),l(a(p),{prop:"packaging",label:"包装",width:"150"}),l(a(p),{label:"操作",width:"150"},{default:u(o=>[l(a(m),{type:"primary",size:"small",onClick:L=>B(o.row)},{default:u(()=>e[15]||(e[15]=[g(" 编辑 ")])),_:2},1032,["onClick"]),l(a(m),{type:"danger",size:"small",onClick:L=>H(o.row.productNumber)},{default:u(()=>e[16]||(e[16]=[g(" 删除 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),c("div",F,[l(a(m),{type:"warning",onClick:A},{default:u(()=>e[17]||(e[17]=[g(" 还原数据 ")])),_:1})])]),_:1}),r.value?(N(),w("div",j,[l(a(q),{class:"box-card"},{default:u(()=>[e[21]||(e[21]=c("div",{class:"card-header"},[c("h2",null,"编辑产品")],-1)),l(a(_),{"label-width":"120px",onSubmit:C(I,["prevent"])},{default:u(()=>[l(a(t),{label:"产品编号"},{default:u(()=>[l(a(n),{modelValue:r.value.productNumber,"onUpdate:modelValue":e[7]||(e[7]=o=>r.value.productNumber=o),placeholder:"产品编号",required:""},null,8,["modelValue"])]),_:1}),l(a(t),{label:"名称"},{default:u(()=>[l(a(n),{modelValue:r.value.name,"onUpdate:modelValue":e[8]||(e[8]=o=>r.value.name=o),placeholder:"名称",required:""},null,8,["modelValue"])]),_:1}),l(a(t),{label:"等级"},{default:u(()=>[l(a(n),{modelValue:r.value.grade,"onUpdate:modelValue":e[9]||(e[9]=o=>r.value.grade=o),placeholder:"等级",required:""},null,8,["modelValue"])]),_:1}),l(a(t),{label:"产地"},{default:u(()=>[l(a(n),{modelValue:r.value.origin,"onUpdate:modelValue":e[10]||(e[10]=o=>r.value.origin=o),placeholder:"产地",required:""},null,8,["modelValue"])]),_:1}),l(a(t),{label:"成本价"},{default:u(()=>[l(a(n),{modelValue:r.value.costPrice,"onUpdate:modelValue":e[11]||(e[11]=o=>r.value.costPrice=o),placeholder:"成本价",required:""},null,8,["modelValue"])]),_:1}),l(a(t),{label:"包装"},{default:u(()=>[l(a(n),{modelValue:r.value.packaging,"onUpdate:modelValue":e[12]||(e[12]=o=>r.value.packaging=o),placeholder:"包装",required:""},null,8,["modelValue"])]),_:1}),l(a(t),{class:"form-actions"},{default:u(()=>[l(a(m),{type:"primary",onClick:I},{default:u(()=>e[19]||(e[19]=[g(" 更新产品 ")])),_:1}),l(a(m),{onClick:e[13]||(e[13]=o=>r.value=null)},{default:u(()=>e[20]||(e[20]=[g(" 取消 ")])),_:1})]),_:1})]),_:1})]),_:1})])):D("",!0)]))}}),K=U(G,[["__scopeId","data-v-3f945f1c"]]),Q=x({name:"ProductInfoView",__name:"product_info",setup(E){return(V,P)=>(N(),w("div",null,[l(K)]))}}),W=U(Q,[["__scopeId","data-v-eae5dec9"]]);export{W as default};
